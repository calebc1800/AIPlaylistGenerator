{% extends 'home/base.html' %}
{% block content %}
<div class="playlist-explorer">
  <header class="header">
    <div class="header-content">
      <h1>Playlist Explorer</h1>
      <div class="auth-buttons">
        {% if user.is_authenticated %}
          <span class="user-greeting">{{ user.username }}</span>
          <a href="{% url 'logout' %}" class="btn btn-secondary">Logout</a>
        {% else %}
          <h2>Get Started</h2>
          <p>Connect your Spotify account to start generating AI-powered playlists</p>
          <a href="{% url 'spotify_auth:login' %}" class="spotify-button">
            Login with Spotify
            <img src="https://upload.wikimedia.org/wikipedia/commons/8/84/Spotify_icon.svg" alt="Spotify Logo" class="spotify-icon" >
        </a>
        {% endif %}
      </div>
    </div>
  </header>

  <main class="main-content">
    <section class="playlists-section">
      <h2>Top Playlists</h2>

      <div class="playlists-grid">
        {% for playlist in playlists %}
          {% include "home/partials/playlist_card.html" %}
        {% empty %}
          <p>No playlists found.</p>
        {% endfor %}
      </div>
    </section>
  </main>

  <footer class="search-footer">
    <form method="GET" action="{% url 'search' %}" class="search-form">
      <div class="search-container">
        <input
          type="text"
          name="q"
          placeholder="Chat to find/make playlist"
          class="search-input"
          value="{{ request.GET.q }}"
        >
        <button type="submit" class="search-btn">üîç</button>
      </div>
    </form>
  </footer>
</div>
{% endblock %}
